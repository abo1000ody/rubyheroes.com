<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>

  <head>

    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <meta name="generator" content="vim vi improved 6.0">

    <title>Top Level Domain (TLD) library : Usage examples (content frame)</title>

  </head>

  <body bgcolor="fff0f8">

    <h1><a name="top">Top Level Domain (TLD) library : Usage examples</a></h1>

    <p>
      The most obvious application of tldlib is using it in a Ruby program. So I first show a
      <a href="#ruby-code">sample Ruby script</a> and its <a href="#ruby-output">output</a>.
    </p>

    <p>
      It is also possible to use tldlib from a <a href="#shell-code">shell script</a> (I use the Korn shell because it is available
      on almost any operating system including Unix, Linux and Windows). The given script creates
      <a target="_parent" href="#shell-output">this output</a>.
    </p>

    <h2><a href="#top" name="ruby-code">Using tldlib in a Ruby script</a></h2>

    <p>
      Besides tabs being replaced by spaces the following pre-formatted text is identical to the original
      <a target="_parent" href="usage_rb.txt">Ruby script</a>.
    </p>

<table border="0" cellpadding="10"><tr><td bgcolor="peachpuff"><pre>
#!/usr/bin/env ruby

require 'tld'

sample =
[
  'dd',       # TLD assigned of German Democratic Republic, no longer exists
  'example',  # Example TLD, see RFC 2606 (aka BCP 32)
  'biz',      # For business usage
  'com',      # For commercial usage
  'dj',       # TLD assigned to Djibouti
  'gr',       # TLD assigned to Greece
  'kw',       # TLD assigned to Kuwait
  'mt',       # TLD assigned to Malta
  'ro',       # TLD assigned to Romania
  'vi'        # TLD assigned to Virgin Islands, U.S.
]

puts '-' * 79
sample.each { |tld|
  if TLD.valid?(tld)
    puts "#{tld}\tis a  valid        TLD. Description of usage: #{TLD::All[tld]}"
  else
    print "#{tld}\tis no valid        TLD"
    if TLD.rfc_2606?(tld)
      puts " but reserved for: #{TLD::RFC_2606[tld]}"
    else
      puts
    end
  end

  puts "#{tld}\tis a  country-code TLD"       if TLD.country?(tld)
  puts "#{tld}\tis a  non-country  TLD"       if TLD.noncountry?(tld)
  puts "#{tld}\tis a  non-country  TLD (old)" if TLD.noncountry_old?(tld)
  puts "#{tld}\tis a  non-country  TLD (new)" if TLD.noncountry_new?(tld)
  puts "#{tld}\tis an RFC 2606     TLD"       if TLD.rfc_2606?(tld)
  puts "#{tld}\tis a  BCP 32       TLD"       if TLD.bcp_32?(tld)

  puts '-' * 79
}
</pre></td></tr></table>

    <h2><a href="#top" name="ruby-output">Output of Ruby script</a></h2>

    <p>
      Besides tabs being replaced by spaces the following pre-formatted text is identical to the
      <a target="_parent" href="ruby_output.txt">original output of the Ruby script</a>.
    </p>

<table border="0" cellpadding="10"><tr><td bgcolor="peachpuff"><pre>
-------------------------------------------------------------------------------
dd      is no valid        TLD
-------------------------------------------------------------------------------
example is no valid        TLD but reserved for: Documentation or examples
example is an RFC 2606     TLD
example is a  BCP 32       TLD
-------------------------------------------------------------------------------
biz     is a  valid        TLD. Description of usage: Businesses
biz     is a  non-country  TLD
biz     is a  non-country  TLD (new)
-------------------------------------------------------------------------------
com     is a  valid        TLD. Description of usage: Commercial
com     is a  non-country  TLD
com     is a  non-country  TLD (old)
-------------------------------------------------------------------------------
dj      is a  valid        TLD. Description of usage: Djibouti
dj      is a  country-code TLD
-------------------------------------------------------------------------------
gr      is a  valid        TLD. Description of usage: Greece
gr      is a  country-code TLD
-------------------------------------------------------------------------------
kw      is a  valid        TLD. Description of usage: Kuwait
kw      is a  country-code TLD
-------------------------------------------------------------------------------
mt      is a  valid        TLD. Description of usage: Malta
mt      is a  country-code TLD
-------------------------------------------------------------------------------
ro      is a  valid        TLD. Description of usage: Romania
ro      is a  country-code TLD
-------------------------------------------------------------------------------
vi      is a  valid        TLD. Description of usage: Virgin Islands, U.S.
vi      is a  country-code TLD
-------------------------------------------------------------------------------
</pre></td></tr></table>

    <h2><a href="#top" name="shell-code">Using tldlib in a Korn shell script</a></h2>

    </p>

    <p>
      Besides tabs being replaced by spaces the following pre-formatted text is identical to the original
      <a target="_parent" href="usage_ksh.txt">Korn shell script</a>. To make things easier this script does the same as the above
      Ruby script.
    </p>

<table border="0" cellpadding="10"><tr><td bgcolor="peachpuff"><pre>
#!/usr/bin/env ksh

function is_valid {
  [[ $(ruby -r tld -e "print TLD::valid?('$1')") = 'true' ]]
}

function is_country {
  [[ $(ruby -r tld -e "print TLD::country?('$1')") = 'true' ]]
}

function is_noncountry {
  [[ $(ruby -r tld -e "print TLD::noncountry?('$1')") = 'true' ]]
}

function is_noncountry_new {
  [[ $(ruby -r tld -e "print TLD::noncountry_new?('$1')") = 'true' ]]
}

function is_noncountry_old {
  [[ $(ruby -r tld -e "print TLD::noncountry_old?('$1')") = 'true' ]]
}

function is_rfc_2606 {
  [[ $(ruby -r tld -e "print TLD::rfc_2606?('$1')") = 'true' ]]
}

function is_bcp_32 {
  [[ $(ruby -r tld -e "print TLD::bcp_32?('$1')") = 'true' ]]
}

function TLD_all
{
  print $(ruby -r tld -e "print TLD::All['$1']")
}

function TLD_rfc_2606
{
  print $(ruby -r tld -e "print TLD::RFC_2606['$1']")
}

tld[0]='dd'       # TLD assigned of German Democratic Republic, no longer exists
tld[1]='example'  # Example TLD, see RFC 2606 (aka BCP 32)
tld[2]='biz'      # For business usage
tld[3]='com'      # For commercial usage
tld[4]='dj'       # TLD assigned to Djibouti
tld[5]='gr'       # TLD assigned to Greece
tld[6]='kw'       # TLD assigned to Kuwait
tld[7]='mt'       # TLD assigned to Malta
tld[8]='ro'       # TLD assigned to Romania
tld[9]='vi'       # TLD assigned to Virgin Islands, U.S.

a=''
for i in $(seq 79); do a="$a-"; done

print - $a

for tld in ${tld[@]}; do
  if is_valid $tld; then
    print -n "$tld\tis a  valid        TLD. Description of usage: "
    TLD_all $tld
  else
    print -n "$tld\tis no valid        TLD"
    if is_rfc_2606 $tld; then
      print -n ' but reserved for: '
      TLD_rfc_2606 $tld
    else
      print
    fi
  fi
  if is_country $tld;         then print "$tld\tis a  country-code TLD";        fi
  if is_noncountry $tld;      then print "$tld\tis a  non-country  TLD";        fi
  if is_noncountry_old $tld;  then print "$tld\tis a  non-country  TLD (old)";  fi
  if is_noncountry_new $tld;  then print "$tld\tis a  non-country  TLD (new)";  fi
  if is_rfc_2606 $tld;        then print "$tld\tis an RFC 2606     TLD";        fi
  if is_bcp_32 $tld;          then print "$tld\tis an BCP 32       TLD";        fi
  print - $a
done
</pre></td></tr></table>

    <h2><a href="#top" name="shell-output">Output of Korn shell script</a></h2>

    <p>
      Besides tabs being replaced by spaces the following pre-formatted text is identical to the
      <a target="_parent" href="ksh_output.txt">original output of the Korn shell script</a>.
    </p>

<table border="0" cellpadding="10"><tr><td bgcolor="peachpuff"><pre>
-------------------------------------------------------------------------------
dd      is no valid        TLD
-------------------------------------------------------------------------------
example is no valid        TLD but reserved for: Documentation or examples
example is an RFC 2606     TLD
example is an BCP 32       TLD
-------------------------------------------------------------------------------
biz     is a  valid        TLD. Description of usage: Businesses
biz     is a  non-country  TLD
biz     is a  non-country  TLD (new)
-------------------------------------------------------------------------------
com     is a  valid        TLD. Description of usage: Commercial
com     is a  non-country  TLD
com     is a  non-country  TLD (old)
-------------------------------------------------------------------------------
dj      is a  valid        TLD. Description of usage: Djibouti
dj      is a  country-code TLD
-------------------------------------------------------------------------------
gr      is a  valid        TLD. Description of usage: Greece
gr      is a  country-code TLD
-------------------------------------------------------------------------------
kw      is a  valid        TLD. Description of usage: Kuwait
kw      is a  country-code TLD
-------------------------------------------------------------------------------
mt      is a  valid        TLD. Description of usage: Malta
mt      is a  country-code TLD
-------------------------------------------------------------------------------
ro      is a  valid        TLD. Description of usage: Romania
ro      is a  country-code TLD
-------------------------------------------------------------------------------
vi      is a  valid        TLD. Description of usage: Virgin Islands, U.S.
vi      is a  country-code TLD
-------------------------------------------------------------------------------
</pre></td></tr></table>

    <hr noshade>

    <p>
      Last changed: 2003-08-17
    </p>

  </body>

</html>
